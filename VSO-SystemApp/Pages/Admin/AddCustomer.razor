@page "/addcustomer"
@inject NavigationManager NavigationManager
@inject ICustomer ICustomerService

<Breadcrumb CurrentRoute="@NavigationManager.Uri.Substring(NavigationManager.BaseUri.Length - 1).ToString().Replace("/", "").ToLower()" />

<EditForm Model="@customer" OnValidSubmit="@SubmitForm">
    <div class="flex gap-2">
        <div class="bg-white rounded-lg shadow-md p-4 md:w-1/2">
            <div class="flex flex-col space-y-4">
                <div class="flex items-center gap-2">
                    <label for="name" class="text-sm text-gray-500">Name</label>
                    <InputText id="name" @bind-Value="customer.Name" class="w-full border focus:outline-none p-1 px-2 rounded-md" />
                </div>
                <div class="flex items-center gap-2">
                    <label for="name" class="text-sm text-gray-500">Website</label>
                    <InputText id="name" @bind-Value="customer.Website" class="w-full border focus:outline-none p-1 px-2 rounded-md" />
                </div>
                <div class="flex items-center gap-2">
                    <label for="name" class="text-sm text-gray-500">Logo Url</label>
                    <InputText id="name" @bind-Value="customer.LogoUrl" class="w-full border focus:outline-none p-1 px-2 rounded-md" />
                </div>
                <div class="text-right">
                    <button class="p-2 bg-gray-400 text-white text-sm rounded-md hover:bg-gray-500" @onclick="RedirectToCustomerList">Cancel</button>
                    <button type="submit" class="p-2 bg-sky-700 text-white text-sm rounded-md hover:bg-sky-600">Submit</button>
                </div>
            </div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-4 md:w-1/2">
            <div class="flex flex-col space-y-4">
                <div class="flex items-center gap-2">
                    <label for="name" class="text-sm text-gray-500">Name</label>
                    <InputText id="name" @bind-Value="customer.Name" class="w-full border focus:outline-none p-1 px-2 rounded-md" />
                </div>
                <div class="flex items-center gap-2">
                    <label for="name" class="text-sm text-gray-500">Website</label>
                    <InputText id="name" @bind-Value="customer.Name" class="w-full border focus:outline-none p-1 px-2 rounded-md" />
                </div>
                <div class="text-right">
                    <button type="submit" class="p-2 bg-sky-700 text-white text-sm rounded-md hover:bg-sky-600">Submit</button>
                </div>
            </div>
        </div>
    </div>
   
</EditForm>


@code {
    private Customer customer { get; set; }

    protected override void OnInitialized()
    {
        customer = new();
    }

    private void SubmitForm()
    {
        ICustomerService.AddCustomer(customer);
        customer = new();
    }

    private void RedirectToCustomerList()
    {
        NavigationManager.NavigateTo("/customers");
    }
}
